<ion-popover-view class="fit popover-wallets popover-light">
  <ion-header-bar class="stable-bg block">
    <div class="title" translate>ACCOUNT.SELECT_WALLET_MODAL.TITLE</div>

    <div class="pull-right">
      <a class="positive"
         ng-click="showNewWalletModal()"
         translate>ACCOUNT.WALLET_LIST.BTN_NEW</a>
    </div>
  </ion-header-bar>
  <ion-content scroll="true">

    <div class="center padding" ng-if="loading">
      <ion-spinner icon="android"></ion-spinner>
    </div>

    <div class="center padding gray" ng-if="!loading && !wallets.length && !defaultWallet">
      {{:locale:'ACCOUNT.WALLET_LIST.NO_WALLET'|translate}}
    </div>

    <ion-list ng-if="!loading">

      <ng-include ng-if="defaultWallet" ng-init="wallet = defaultWallet" src="'templates/wallet/list/item_wallet_light.html'">
      </ng-include>

      <ng-repeat ng-repeat="wallet in :rebind:wallets | filter:filterFn(formData) track by wallet.id"
                 ng-include="::'templates/wallet/list/item_wallet_light.html'">

      </ng-repeat>
    </ion-list>
  </ion-content>

  <ion-footer-bar class="stable-bg block">

    <!-- show all -->
    <div class="pull-right">
      <a class="positive"
         ui-sref="app.view_wallets"
         ng-click="closePopover()"
         translate>COMMON.NOTIFICATIONS.SHOW_ALL</a>
    </div>
  </ion-footer-bar>
</ion-popover-view>
